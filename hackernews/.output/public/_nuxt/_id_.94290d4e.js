import{_ as b}from"./nuxt-link.dee2077a.js";import{f,r as H,o as a,c,a as o,b as h,w as y,d as u,t as m,i as e,y as T,j as x,z as j,A as D,F as d,v as L,h as A,x as F,k as I,g as M,n as R,B as $,u as W}from"./entry.719d578a.js";import{t as N,_ as q,a as E,b as O,i as G,h as J}from"./store.073e79ca.js";import"./_plugin-vue_export-helper.c27b6911.js";const K={key:0,class:"comment"},Q={class:"by"},U=["innerHTML"],X={class:"comment-children"},B=f({__name:"PostComment",props:{comment:{type:Object,required:!0}},setup(s){const n=H(!0);function r(i){return i+(i===1?" reply":" replies")}return(i,_)=>{const p=b,g=B;return s.comment&&s.comment.user?(a(),c("li",K,[o("div",Q,[h(p,{to:"/user/"+s.comment.user},{default:y(()=>[u(m(s.comment.user),1)]),_:1},8,["to"]),u(" "+m(e(N)(s.comment.time))+" ago ",1)]),o("div",{class:"text",innerHTML:s.comment.content},null,8,U),s.comment.comments&&s.comment.comments.length?(a(),c("div",{key:0,class:T([{open:e(n)},"toggle"])},[o("a",{onClick:_[0]||(_[0]=t=>n.value=!e(n))},m(e(n)?"[-]":"[+] "+r(s.comment.comments.length)+" collapsed"),1)],2)):x("",!0),j(o("ul",X,[(a(!0),c(d,null,L(s.comment.comments,t=>(a(),A(g,{key:t.id,comment:t},null,8,["comment"]))),128))],512),[[D,e(n)]])])):x("",!0)}}});const Y={key:0,style:{"text-align":"center"}},Z=f({__name:"LoadingWrapper",props:{loading:{type:Boolean}},setup(s){return(n,r)=>{const i=q;return n.loading?(a(),c("div",Y,[h(i)])):F(n.$slots,"default",{key:1})}}}),ee={class:"item-view view"},te={key:0,class:"item-view-header"},ne=o("h1",null,"Page not found",-1),oe=[ne],se={class:"item-view-header"},ae=["href"],me=["textContent"],ce={class:"host"},ie=["textContent"],le={class:"meta"},re={class:"item-view-comments"},_e={class:"item-view-comments-header"},ue={class:"comment-children"},ye=f({__name:"[id]",async setup(s){var k;let n,r;const i=I(),_=M(()=>+i.params.id),[p,g]=([n,r]=R(()=>Promise.all([E(_.value),O(_.value)])),n=await n,r(),n),{data:t}=$(p),{data:v,loading:P}=$(g);return W({title:(k=t.value)==null?void 0:k.title}),(l,de)=>{var C;const S=b,V=B,z=Z;return a(),c("div",ee,[(C=e(t))!=null&&C.url?(a(),c(d,{key:1},[o("div",se,[("isAbsolute"in l?l.isAbsolute:e(G))(e(t).url)?(a(),c(d,{key:0},[o("a",{href:e(t).url,target:"_blank",rel:"noopener"},[o("h1",{textContent:m(e(t).title)},null,8,me)],8,ae),o("span",ce," ("+m(("host"in l?l.host:e(J))(e(t).url))+")",1)],64)):(a(),c("h1",{key:1,textContent:m(e(t).title)},null,8,ie)),o("p",le,[u(m(e(t).points)+" points | by ",1),h(S,{to:"/user/"+e(t).user},{default:y(()=>[u(m(e(t).user),1)]),_:1},8,["to"]),u(" "+m(("timeAgo"in l?l.timeAgo:e(N))(+e(t).time))+" ago ",1)])]),o("div",re,[h(z,{loading:e(P)},{default:y(()=>[o("p",_e,m(e(v)?e(v).length+" comments":"No comments yet."),1),o("ul",ue,[(a(!0),c(d,null,L(e(v),w=>(a(),A(V,{key:w.id,comment:w},null,8,["comment"]))),128))])]),_:1},8,["loading"])])],64)):(a(),c("div",te,oe))])}}});export{ye as default};
